function loadMap(e,o,n){var t=e.geometry.location.lat,a=e.geometry.location.lng,s={zoom:n.zoom,center:new google.maps.LatLng(t,a),styles:n.style},p=o,i=new google.maps.Map(p,s);new google.maps.Marker({position:new google.maps.LatLng(t,a),map:i});window.onresize=function(e){mapResize(i)},mapResize(i)}function mapResize(e){google.maps.event.trigger(e,"resize")}function getCenter(e,o,n){var t=new XMLHttpRequest;t.open("GET","https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key="+n.geocodeKey,!0),t.send(),t.onreadystatechange=function(){if(4==t.readyState&&200==t.status){var e=t.responseText;loadMap(JSON.parse(e).results[0],o,n.map[0])}}}function initMap(e,o){getJSON("assets/custommaps.config.json",function(n,t){var a=t.customMapsconfigs[0];getCenter(e,o,a)})}var getJSON=function(e,o){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="json",n.onload=function(){var e=n.status;o(200===e?null:e,n.response)},n.send()};window.onload=function(){initMap("echo beach bali",document.getElementById("map"))};